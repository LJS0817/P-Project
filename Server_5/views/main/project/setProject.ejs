<link rel="stylesheet" href="/css/main/project/addProject.css" />
<script src="/js/main/project/configProject.js" defer></script>

<div class="add-project-container">
  <div class="form-wrapper">
    <div class="form-header">
      <h2><%= (flag == "add" ? "Add new" : "Edit") %> project</h2>
      <span class="required-note"><%= __('configProjectSubtitle') %></span>
    </div>

    <form action="/dashboard/project/<%= flag %>Project" id="projectForm" method="POST">
      <% if(locals.id) { %>
        <input type="hidden" name="projectId" value="<%= id %>">
      <% } %>
      <div class="form-group">
        <input type="text" id="projectName" name="projectName" class="form-input" placeholder="<%= __('configProjectName') %>" value="<%= locals.projectName ? projectName : '' %>" />
      </div>

      <div class="form-group">
        <textarea id="shortDescription" name = "shortDescription" class="form-input textarea" placeholder="<%= __('configProjectDesc') %>" rows="2"><%= locals.shortDescription ? shortDescription : '' %></textarea>
      </div>

      <div class="form-group row">
        <label class="form-label"><%= __('configProjectThumbnail') %></label>
        <input type="file" class="btn-outline" name="" id="" value="<%= __('configProjectAddFile') %>" multiple>
      </div>

      <div class="form-group row">
        <label class="form-label"><%= __('configProjectAddPage') %>
          <span class="sub-label"><%= __('configProjectAddPageMsg') %></span>
          <br>
          <input type="text" name="pageName" class="form-input" id="pageName" placeholder="<%= __('configProjectAddPageEnterPage') %>">
        </label>
        <div id="pageList"></div>
        <input type="hidden" name="pageListJson" id="pageListJson">
      </div>

      <div class="form-group visibility-group">
        <div class="visibility-info">
          <label class="form-label"><%= __('configProjectVisibleTitle') %></label>
          <span class="sub-label"><%= __('configProjectVisibleSubtitle') %></span>
        </div>

        <div class="toggle-wrapper" id="switchVisibility">
          <span class="toggle-label active"><%= __('configProjectVisiblePublic') %><i class="fi fi-rr-lock"></i></span>
          <label class="switch">
            <input type="checkbox" id="visibilityCheckbox" name="visibility"/>
            <span class="slider round"></span>
          </label>
          <span class="toggle-label"><i class="fi fi-rr-lock-open-alt"></i>
            <%= __('configProjectVisiblePrivate') %>
          </span>
        </div>
      </div>

      <div class="form-actions">
        <a href="/dashboard/project" class="btn-outline wide" style="
                      text-decoration: none;
                      display: flex;
                      justify-content: center;
                      align-items: center;
                    ">
          <%= __('cancel') %>
        </a>
        <button type="submit" class="btn-fill wide"><%= (flag == "add" ? "Add new" : "Edit") %> Project</button>
      </div>
    </form>
  </div>
</div>